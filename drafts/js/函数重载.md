# 函数重载（function overloading）

面向对象语言如 Java、 PHP 的一个常见特性是，能够根据传入不同数量或类型的参数，通过“重载（overload）”函数来发挥不同的功用。

JavaScript 没有直接支持函数重载，但也有很多办法实现。

看一个例子：
```js
function show(){
    alert("1");
}
//把第一个show覆盖掉了
function show(num1){
    alert(num1);
}

window.onload = function(){
    // 执行2次show(num1)
    show();
    show(2);
}
```

正常js函数实现：
```js
function show(){
    var len = arguments.length;
    if(len == 0) {
        alert("1");
    } else {
        var num1 = arguments[0];
        alert(num1);
    }
}
window.onload = function(){
    show();
    show(2);
}
```

用函数重载实现：
```js
function show(){
    var len = arguments.length;
        if(len == 0) {
            show1();
        } else {
            var num1 = arguments[0];
            show2(num1);
        }
}

function show1() {
    alert("1");
}
function show2() {
    alert(num1);
}
window.onload = function(){
    show();
    show(2);
}
```

### 函数重载（function overloading）依赖

判断传入**参数数量和类型**的能力

#### JavaScript 判断传入参数数量

JavaScript 的每个函数都带有一个仅在这个函数内部作用的变量（contextual variabel）,称为参数（arguments）。

函数的参数是一个包含所有传给函数的参数的伪数组（pseudo-array），具有length属性，只可以访问不可以修改。

一个将参数转化成数组返回的函数
```js
function makeArray() {
    var arr = []; //创建一个空数组
    for(var i = 0; i < arguments.length; i++) { //遍历传入的每个参数
        arr.push(arguments[i]);
    }
    return arr; //返回结果数组
}
```

根据参数数量进行重载

``` js
// 发送一条消息
function sendMessage (msg, obj) {
    // 根据参数数量，分别执行不同的逻辑
    if(arguments.length == 2)
        obj.handleMsg(msg);
    else
        alert(msg);
}

// 调用 sendMessage
sendMessage("Hello world!");

sendMessage("How are you?", {
    handleMsg: function(msg) {
        alert("This is a custom message: " + msg);
    }
});
```

#### JavaScript 判断传入参数类型

显示错误信息和默认信息
``` js
function displayerror (msg) {
    // 判断 msg 是否传入
    if (typeof msg == "undefined")
        msg = "an error occurred";

    alert(msg);
}
```
