<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="icon" type="image/x-icon" href="./assets/favicon.ico">
  <meta charset="UTF-8">
  <!-- ä¸»é¢˜ï¼šç™½è‰²-vue -->
  <link rel="stylesheet" href="https://unpkg.com/docsify/themes/vue.css">
  <!-- ä¸»é¢˜ï¼šé»‘è‰² -->
  <!-- <link rel="stylesheet" href="https://unpkg.com/docsify/themes/dark.css"> -->
  <!-- è‡ªå®šä¹‰é¢œè‰² -->
  <style>
    /* åˆ‡æ¢ä¸»é¢˜æŒ‰é’® */
    .app-nav>ul>li:last-child {
      position: fixed;
      bottom: 10px;
      right: 5px;
    }
    /* sidebar */
    li>.app-sub-sidebar {
      position: fixed;
      top: 120px;
      right: 0;
      width: 14%;
      min-width: 100px;
      overflow-x: hidden;
      overflow-y: scroll;
      max-height: 80%;
      /* background: #e9f0b45c; */
      /* border-radius: 4px; */
      padding: 0 2px 0 20px !important;
      border-left: 1px solid #e8ebee;
    }
    li>.app-sub-sidebar li::before {
      content: '';
    }
    li>.app-sub-sidebar li.active::before {
      content: '';
      width: 0;
      height: 1.25rem;
      border-left: 2px solid #42b983;
      position: absolute;
      left: 0;
      transform: translateY(5px);
    }
    li>.app-sub-sidebar li a:hover {
      text-decoration: none;
      font-weight: bold;
    }
    li>.app-sub-sidebar li.active > a {
      border-right: none;
    }
    section.content {
      right: 8%;
    }
    /* editor on github */
    .markdown-section>div[style="overflow: auto"]{
      position: absolute;
      left: 138px;
      top: 6px;
    }
    .markdown-section>h1+div[style="overflow: auto"]{
      top: 63px;
    }
    /* å­—æ•°ã€é˜…è¯»æ—¶é—´ */
    .markdown-section>div[style="margin-bottom: 10px;"]>span{
      float: left !important;
    }
    /* æ ‡é¢˜å¤§å° */
    .markdown-section h2:after {
      content: '';
      display: block;
      width: 100%;
      height: 0;
      border-bottom: 1px solid #f1f1f1;
    }
    .markdown-section h3 {
      font-size: 1.3rem;
      margin: 25px 0 0.6rem;
    }
    .markdown-section h4 {
      font-size: 1.1rem;
    }
    .markdown-section h5 {
      font-size: 0.9rem;
    }
    .markdown-section h6 {
      font-size: 0.75rem;
    }
    /* ä»£ç æ ¼å¼ */
    .markdown-section pre {
      padding: 0 .4rem;
      margin: .2em 0;
    }
    .markdown-section pre > code {
      padding: 1em 6px;
    }
  </style>
</head>
<body>
  <div id="app"></div>
  <script src="https://unpkg.com/docsify/lib/docsify.min.js"></script>
  <script src="https://unpkg.com/docsify/lib/plugins/emoji.min.js"></script>
  <script src="https://unpkg.com/docsify-edit-on-github/index.js"></script>
  <script>
    window.$docsify = {
      basePath: '/docs/',
      // å…¥å£æ–‡ä»¶
      // homepage: 'home.md',
      loadNavbar: true,
      loadSidebar: true,
      coverpage: true, // è‡ªå®šä¹‰å°é¢
      onlyCover: true, // å°é¢ä½œä¸ºé¦–é¡µ
      autoHeader: true,
      search: 'auto', // é»˜è®¤å€¼
      subMaxLevel: 3,
      plugins: [
        EditOnGithubPlugin.create(
          'https://gitee.com/-/ide/project/lingxyz/learning/edit/master/-/',
          null,
          'âœğŸ»'
        ),
        /* ç¼–è¾‘æ’ä»¶ */
        function(hook, vm) {
          var contents = ''
          const editableDiv = document.createElement('div');
          // æ¯æ¬¡å¼€å§‹è§£æ Markdown å†…å®¹æ—¶è°ƒç”¨
          hook.beforeEach(function(content) {
            contents = content
            console.log(content)
            /* é»„è‰²é«˜äº®ï¼š==å­—ç¬¦ä¸²== */
            content = content.replace(/==(.+?)==/g, '<span style="background: #eeff00;">$1</span>')
            return content;
          });
          hook.doneEach(function() {
            editableDiv.innerHTML = contents
          })
          //  åˆå§‹åŒ–å¹¶ç¬¬ä¸€æ¬¡åŠ è½½å®Œæˆæ•°æ®åè°ƒç”¨ï¼Œæ²¡æœ‰å‚æ•°ã€‚
          hook.ready(function() {
            // åˆ›å»ºå…ƒç´ 
            const div = document.createElement('div');
            div.style.display = 'none';
            editableDiv.contentEditable = true;
            editableDiv.style.whiteSpace = 'pre-wrap';
            // editableDiv.innerHTML = contents
            div.appendChild(editableDiv);
            const button = document.createElement('button');
            button.innerHTML = 'ä¿®æ”¹'
            div.appendChild(button);
            // å°†divå…ƒç´ æ’å…¥åˆ°xå…ƒç´ çš„æœ€åé¢
            const sectionContent = document.querySelector('section.content');
            sectionContent.appendChild(div);
            // åˆ›å»ºç¼–è¾‘æŒ‰é’®
            const editorButton = document.createElement('button');
            editorButton.innerHTML = 'ç¼–è¾‘'
            const markdownSection = document.querySelector('.markdown-section');
            editorButton.addEventListener('click', () => {
              div.style.display = 'block'
              editorButton.style.display = 'none'
              markdownSection.style.display = 'none'
            });
            button.addEventListener('click', () => {
              div.style.display = 'none'
              editorButton.style.display = 'block'
              markdownSection.style.display = 'block'
            });
            // sectionContent.insertBefore(editorButton, sectionContent.firstChild);
          });
        }
      ]
    }
  </script>
  <!--å…¨æ–‡æœç´¢-->
  <script src="https://unpkg.com/docsify/lib/plugins/search.min.js"></script>
  <!--Javaä»£ç é«˜äº®-->
  <script src="//unpkg.com/prismjs/components/prism-java.js"></script>
  <script src="//unpkg.com/prismjs/components/prism-python.js"></script>
  <!-- å¤åˆ¶åˆ°å‰ªè´´æ¿ -->
  <script src="//unpkg.com/docsify-copy-code"></script>
  <!-- emoji -->
  <script src="//unpkg.com/docsify/lib/plugins/emoji.js"></script>
  <!-- å›¾ç‰‡ç¼©æ”¾ -->
  <script src="//unpkg.com/docsify/lib/plugins/zoom-image.js"></script>
  <!-- å­—æ•°ç»Ÿè®¡ -->
  <script src="//unpkg.com/docsify-count/dist/countable.js"></script>
  <!-- æ¢è‚¤ -->
  <script>
  setTimeout(() => {
    const themes = ['vue', 'dark'];
    const $btn = document.querySelector('a[data-theme]');
    const $link = document.querySelector('link[rel]')
    let nextThemeLocal = localStorage.getItem("activeTheme");
    if (nextThemeLocal != null && nextThemeLocal != "null") changeTheme(nextThemeLocal);

    $btn.onclick = function(e) {
      changeTheme();
    };
    /* åˆ‡æ¢ä¸»é¢˜ */
    function changeTheme(nextThemeParam) {
      let activeTheme = $btn.attributes['data-theme'].nodeValue;
      let nextTheme = nextThemeParam || themes[themes.length - 1 - themes.indexOf(activeTheme)];
      $btn.attributes['data-theme'].nodeValue = nextTheme;
      localStorage.setItem("activeTheme", nextTheme);
      let activeCssLinkArray = $link.attributes.href.value.split(activeTheme);
      let nextCssLink = activeCssLinkArray[0] + nextTheme + activeCssLinkArray[1];
      $link.attributes.href.value = nextCssLink;
    }
  }, 3000)
  </script>
</body>
</html>